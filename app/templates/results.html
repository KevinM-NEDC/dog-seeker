<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" nt="" />
        <title>Dog Seeker Results</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap Icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        <!-- SimpleLightbox plugin CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{{ url_for('static', filename='../static/css/style_og.css')}}" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="../">Home</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="../info">Info</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Results/Button -->
        <header class="masthead">
            <div class="container px-4 px-lg-5 h-100">
                <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center ">
                    <div class="col-lg-8 align-self-end text-center">
                        <h1 class="text-white font-weight-bold">Dog Seeker AI</h1>
                        <hr class="divider"/>
                    </div>

                      <section id="msg-box4-2" data-rv-view="2" style="background-color: rgb(255, 255, 255); margin-top: 0rem; padding-top: 3rem; padding-bottom: 0rem; margin-bottom:0rem;">
       <div class="container">
          <div class="row">
            <div class="col justify-content-center align-items-center text-center">
          <h3 class="section-title display-4">Recognition Results</h3>

                    {% if labels == 'no dogs' %}
                <h3 class="we-found btn-text display-4">We found <span>{{labels}}!</span></h3>
                    <div>We missed? See why below.</div>
                    {% else %}
              <h3 class="we-found btn-text display-4">We found {{a_an}} <span>{{labels}}!</span></h3>
                    <div class="lead"><em>with {{ confidences }} confidence.</em></div>
                    {% endif %}

                    <a class="mb-0" id='seefood_button'>
                        <form id='seefood_form' method=post enctype=multipart/form-data>
                            <input id="seefood_input_field" name="file" type="file" onchange="this.form.submit();" hidden/>
                        </form>
                        <button href="" target="_blank" class="btn btn-primary btn-xl">
                            <i class="fas fa-camera pr-2 left" aria-hidden="true"></i> Next Photo
                        </button>
                    </a>
            </div>
                <div class="col">
                    {% if labels == 'no dogs' %}
                    <img class="mbr-figure img-fluid" src="{{ url_for('static', filename='uploads/' + filename)}} " style="height:50vh;">
                    {% else %}
                    <img class="mbr-figure img-fluid" src="{{ url_for('static', filename='results/' + filename)}} " style="height:50vh;">
                    {% endif %}
                  <!--<div style='text-align:right'></div>-->
                </div>
               </div>
                        </div>
                                                <hr class="divider"/>

    </section>
                </div>
            </div>
                  </header>


        <!-- About-->
        <section class="page-section bg-primary" id="about">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 text-center">
                      {% if labels == 'no dogs' %}
                        <h2 class="text-white mt-0">Why do we miss sometimes?</h2>
                        <hr class="divider divider-light"/>
                        <p class="text-white-75 mb-4">We only had three weeks to decide what project to work on, to train the AI that identifies the dog breed, and to build this very website. This could lead to some errors where our model will misidentify a dog or not even see one at all. Also it has to be kept in mind that this AI would not be able to identify any of the unsupported breeds and has a greatly decreased accuracy with dogs that are not purebred. </p>
                      {% else %}
                      <!-- Information about the dogs -->
                        {% for dog in dog_Names %}
                        <section>
                          <h2 class="text-white mt-0">Information about this breed: {{dog_Names[loop.index0]}}</h2>
                          <hr class="divider divider-light"/>
                          <p class="text-white-75 mb-4">{{ dog_Personality[loop.index0]}}</p>
                          <p class="text-white-75 mb-4">{{ dog_Description[loop.index0]}}</p>
                        </section>
                        {%endfor%}
                      {% endif %}
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="bg-light py-5">
            <div class="container px-4 px-lg-5"><div class="small text-center text-muted">Copyright &copy; 2022 - Screaming Sirens</div></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- SimpleLightbox plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
        <!-- Core theme JS-->
        <script src="{{ url_for('static', filename='../static/js/scripts.js')}}"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
          </body>
</html>
    <script>
        // added to get upload with a button working
        document.getElementById('seefood_button').addEventListener('click', openDialog);

        function openDialog() {
            document.getElementById('seefood_input_field').click();
        }
    </script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("#spinner").bind("ajaxSend", function() {
                $(this).show();
            }).bind("ajaxStop", function() {
                $(this).hide();
            }).bind("ajaxError", function() {
                $(this).hide();
            });
            // seefood_input_field
            $('#seefood_button').click(function() {

            });
        });
    </script>
